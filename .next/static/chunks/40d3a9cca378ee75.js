(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86536,e=>{"use strict";let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],86536)},39616,e=>{"use strict";let t=(0,e.i(75254).default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Settings",()=>t],39616)},87486,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(25913),i=e.i(75157);let r=(0,s.cva)("inline-flex items-center gap-1.5 px-2 py-0.5 text-xs font-mono uppercase tracking-wide border rounded-sm transition-all duration-75",{variants:{variant:{healthy:"bg-transparent text-[--reactor-blue] border-[--reactor-blue] shadow-[0_0_4px_rgba(69,162,158,0.3)]",warning:"bg-transparent text-[--safety-orange] border-[--safety-orange] shadow-[0_0_4px_rgba(255,107,0,0.3)]",critical:"bg-[--ballistic-red] text-[--flash] border-[--ballistic-red] shadow-[0_0_6px_rgba(255,46,46,0.4)]",neutral:"bg-transparent text-[--steel] border-[--steel]",offline:"bg-transparent text-[--tungsten] border-[--tungsten] opacity-60"}},defaultVariants:{variant:"neutral"}}),n=a.forwardRef(({className:e,variant:a,...s},n)=>(0,t.jsx)("div",{ref:n,className:(0,i.cn)(r({variant:a}),e),...s}));n.displayName="Badge",e.s(["Badge",()=>n])},75379,e=>{"use strict";function t(e){return e.toISOString()}function a(e,t=8){return t<=0||e.length<=t?e:`${e.slice(0,t)}...`}function s(e){if(e<0)return"0ms";if(e<1e3)return`${Math.round(e)}ms`;let t=Math.floor(e/1e3),a=Math.floor(t/60),s=Math.floor(a/60),i=Math.floor(s/24);if(i>0){let e=s%24;return e>0?`${i}d ${e}h`:`${i}d`}if(s>0){let e=a%60;return e>0?`${s}h ${e}m`:`${s}h`}if(a>0){let e=t%60;return e>0?`${a}m ${e}s`:`${a}m`}return`${t}s`}e.s(["formatDuration",()=>s,"formatHash",()=>a,"formatTimestamp",()=>t])},78894,e=>{"use strict";let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],78894)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},52571,e=>{"use strict";let t=(0,e.i(75254).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["Info",()=>t],52571)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},95424,98152,73487,e=>{"use strict";let t;var a=e.i(71645),s=e.i(47167);let i=(e,t)=>void 0===e?t:"true"===e.toLowerCase(),r={REALTIME_ENABLED:i(s.default.env.NEXT_PUBLIC_REALTIME_ENABLED,!1),REALTIME_WS_URL:s.default.env.NEXT_PUBLIC_REALTIME_WS_URL??"ws://localhost:8787/ws",POLL_INTERVAL_MS:Number.isFinite(t=Number(s.default.env.NEXT_PUBLIC_POLL_INTERVAL_MS))?t:15e3,DEV_REALTIME_MOCK:i(s.default.env.NEXT_PUBLIC_DEV_REALTIME_MOCK,!1)};e.s(["REALTIME_CONFIG",0,r],98152);let n={"alert.created":["alerts"],"alert.acknowledged":["alerts"],"incident.event":["incident-events"],"incident.trust":["incident-trust"],"status.update":["status"]};class l{socket=null;status="idle";handlers=new Map;statusHandlers=new Set;reconnectTimer=null;heartbeatTimer=null;retryCount=0;hasLoggedFailure=!1;connect(){if(!r.REALTIME_ENABLED)return void this.setStatus("disconnected");if((!this.socket||this.socket.readyState!==WebSocket.OPEN)&&(!this.socket||this.socket.readyState!==WebSocket.CONNECTING)){this.setStatus("connecting"),this.clearTimers();try{this.socket=new WebSocket(r.REALTIME_WS_URL)}catch{this.scheduleReconnect();return}this.socket.addEventListener("open",()=>{this.retryCount=0,this.hasLoggedFailure=!1,this.setStatus("connected"),this.startHeartbeat()}),this.socket.addEventListener("message",e=>{let t=this.parseMessage(e.data);t&&"pong"!==t.type&&this.routeEvent(t)}),this.socket.addEventListener("close",()=>{this.setStatus("disconnected"),this.scheduleReconnect()}),this.socket.addEventListener("error",()=>{this.setStatus("disconnected"),this.scheduleReconnect()})}}disconnect(){this.clearTimers(),this.socket?.close(),this.socket=null,this.setStatus("disconnected")}subscribe(e,t){let a=this.handlers.get(e)??new Set;return a.add(t),this.handlers.set(e,a),()=>{a.delete(t)}}subscribeStatus(e){return this.statusHandlers.add(e),e(this.status),()=>{this.statusHandlers.delete(e)}}getStatus(){return this.status}setStatus(e){this.status!==e&&(this.status=e,this.statusHandlers.forEach(t=>t(e)))}parseMessage(e){if("string"!=typeof e)return null;try{let t=JSON.parse(e);if(!t.type||!t.payload)return null;return t}catch{return null}}routeEvent(e){(e.topic?[e.topic]:n[e.type]??[]).forEach(t=>{this.handlers.get(t)?.forEach(t=>t(e))})}startHeartbeat(){this.stopHeartbeat(),this.heartbeatTimer=setInterval(()=>{this.socket&&this.socket.readyState===WebSocket.OPEN&&this.socket.send(JSON.stringify({type:"ping",timestamp:new Date().toISOString()}))},25e3)}stopHeartbeat(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),this.heartbeatTimer=null)}scheduleReconnect(){if(this.stopHeartbeat(),this.reconnectTimer||!r.REALTIME_ENABLED)return;let e=this.nextBackoffDelay();this.reconnectTimer=setTimeout(()=>{this.reconnectTimer=null,this.connect()},e),this.hasLoggedFailure}nextBackoffDelay(){let e=Math.min(1e3*Math.pow(1.7,this.retryCount),3e4),t=300*Math.random();return this.retryCount+=1,e+t}clearTimers(){this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),this.stopHeartbeat()}}let c=null,o=[{title:"Budget threshold exceeded",message:"Monthly token budget has reached 95% utilization",severity:"warning"},{title:"High-risk execution blocked",message:"Unauthorized data export attempt blocked by policy",severity:"error"},{title:"Policy version updated",message:"Authority policy v2.2.0 deployed",severity:"info"},{title:"Execution latency spike",message:"Average execution time increased by 35% in last 10 minutes",severity:"warning"}],d=[{subsystem:"agent-orchestrator",action:"execution.started",severity:"info"},{subsystem:"policy-engine",action:"policy.evaluated",severity:"info"},{subsystem:"budget-controller",action:"threshold.exceeded",severity:"warning"},{subsystem:"agent-orchestrator",action:"execution.blocked",severity:"critical"}],u=[{key:"activeExecutions",value:Math.floor(10+10*Math.random())},{key:"pendingDecisions",value:Math.floor(1+6*Math.random())}],h=e=>e[Math.floor(Math.random()*e.length)],m=()=>new Date().toISOString(),p={alerts:"/alerts","incident-events":"/incidents/events","incident-trust":"/incidents/trust",status:"/status"},g=async(e,t)=>{let a=await fetch(`/api/realtime${p[e]}`,{method:"GET",headers:{"Content-Type":"application/json"},signal:t,cache:"no-store"});if(!a.ok)return[];let s=await a.json();return Array.isArray(s)?s:[s]},y=async(e,t)=>{if(r.DEV_REALTIME_MOCK)return[(e=>{switch(e){case"alerts":let t,a;return t=h(o),{type:"alert.created",timestamp:a=m(),payload:{id:`alert_${Date.now()}_${Math.random().toString(36).slice(2,7)}`,title:t.title,message:t.message,severity:t.severity,timestamp:a,acknowledged:!1}};case"incident-events":let s,i;return s=h(d),{type:"incident.event",timestamp:i=m(),payload:{id:`evt_${Date.now()}_${Math.random().toString(36).slice(2,7)}`,timestamp:i,subsystem:s.subsystem,action:s.action,severity:s.severity,policyRef:`pol-${Math.floor(999*Math.random()).toString().padStart(3,"0")}`,receiptHash:`rcpt_${Math.random().toString(36).slice(2,12)}`,actor:s.action.includes("blocked")?"agent-gpt4":void 0}};case"incident-trust":return{type:"incident.trust",timestamp:m(),payload:{trustScore:Math.max(40,Math.floor(92+6*Math.random()))}};case"status":return{type:"status.update",timestamp:m(),payload:h(u)}}})(e)];try{return await g(e,t)}catch{return[]}};e.s([],73487),e.s(["useRealtimeSubscription",0,({topic:e,onEvent:t,enabled:s=!0})=>{let i=a.useMemo(()=>(c||(c=new l),c),[]),[n,o]=a.useState(i.getStatus()),d=a.useRef(t);a.useEffect(()=>{d.current=t},[t]),a.useEffect(()=>{if(!s)return;let e=i.subscribeStatus(o);return i.connect(),e},[i,s]),a.useEffect(()=>{if(s&&r.REALTIME_ENABLED)return i.subscribe(e,e=>{d.current(e)})},[i,e,s]);let u=s&&(!r.REALTIME_ENABLED||"connected"!==n);return(({key:e,fn:t,intervalMs:s,enabled:i=!0})=>{let r=a.useRef(t);a.useEffect(()=>{r.current=t},[t]),a.useEffect(()=>{if(!i)return;let e=new AbortController,t=!0,a=()=>{t&&r.current(e.signal)};a();let n=setInterval(a,s);return()=>{t=!1,e.abort(),clearInterval(n)}},[e,s,i])})({key:`${e}:${n}`,intervalMs:r.POLL_INTERVAL_MS,enabled:u,fn:async t=>{(await y(e,t)).forEach(e=>d.current(e))}}),{status:n,usingPolling:u}}],95424)},5028,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(5930),i=e.i(87486),r=e.i(19455),n=e.i(75157);let l={live:"border-[#45A29E] text-[#45A29E]",degraded:"border-[#FFB000] text-[#FFB000]",offline:"border-[#FF2E2E] text-[#FF2E2E]"},c={live:"Live",degraded:"Degraded",offline:"Offline"};function o({state:e="degraded",className:a}){return(0,t.jsx)(i.Badge,{variant:"neutral",className:(0,n.cn)("px-3 py-1 text-xs uppercase",l[e],a),children:c[e]})}var d=e.i(63209),u=e.i(78894),h=e.i(52571),m=e.i(69638),p=e.i(86536),g=e.i(39616),y=e.i(75379),f=e.i(95424);e.i(73487);var v=e.i(98152);let x=[{id:"alert-001",title:"Budget threshold exceeded",message:"Monthly token budget has reached 90% utilization",severity:"warning",timestamp:new Date(Date.now()-9e5).toISOString(),acknowledged:!1},{id:"alert-002",title:"High-risk execution blocked",message:"Agent attempted unauthorized data export - action blocked by policy",severity:"error",timestamp:new Date(Date.now()-27e5).toISOString(),acknowledged:!1},{id:"alert-003",title:"New policy version available",message:"Authority policy v2.1.0 is ready for review and activation",severity:"info",timestamp:new Date(Date.now()-72e5).toISOString(),acknowledged:!1},{id:"alert-004",title:"Execution latency spike",message:"Average execution time increased by 40% in the last hour",severity:"warning",timestamp:new Date(Date.now()-108e5).toISOString(),acknowledged:!0}],b={error:{icon:d.AlertCircle,variant:"critical",color:"text-[#FF6B6B]"},warning:{icon:u.AlertTriangle,variant:"warning",color:"text-[#FFA500]"},info:{icon:h.Info,variant:"neutral",color:"text-[#66FCF1]"}};function E(){let[e,n]=a.useState(x),{status:l}=(0,f.useRealtimeSubscription)({topic:"alerts",onEvent:e=>{if("alert.created"===e.type){let t=e.payload,a={id:t.id??`alert_${Date.now()}`,title:t.title,message:t.message,severity:t.severity,timestamp:t.timestamp??new Date().toISOString(),acknowledged:t.acknowledged??!1};n(e=>[a,...e])}if("alert.acknowledged"===e.type){let t=e.payload;n(e=>e.map(e=>e.id===t.id?{...e,acknowledged:!0}:e))}}}),c=e.filter(e=>!e.acknowledged).length,d="connected"===l?"live":v.REALTIME_CONFIG.REALTIME_ENABLED?"degraded":"offline";return(0,t.jsxs)(s.PageContainer,{children:[(0,t.jsx)(s.PageHeader,{title:"Alerts",description:"System alerts and governance notifications",actions:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",className:"gap-2",children:[(0,t.jsx)(m.CheckCircle,{className:"h-4 w-4"}),"Acknowledge All"]}),(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",className:"gap-2",children:[(0,t.jsx)(g.Settings,{className:"h-4 w-4"}),"Alert Settings"]})]})}),(0,t.jsxs)("div",{className:"mb-6 flex items-center gap-4",children:[(0,t.jsxs)(i.Badge,{variant:"critical",className:"px-3 py-1 text-sm uppercase",children:[c," Unacknowledged"]}),(0,t.jsxs)(i.Badge,{variant:"neutral",className:"px-3 py-1 text-sm uppercase",children:[e.length," Total"]}),(0,t.jsx)(o,{state:d})]}),(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>{let a=b[e.severity],n=a.icon;return(0,t.jsx)(s.Card,{className:`transition-colors ${e.acknowledged?"opacity-60":"hover:border-[#66FCF1]/30"}`,children:(0,t.jsx)(s.CardContent,{className:"py-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:`flex h-10 w-10 items-center justify-center rounded-full border border-[#384656] bg-[#0B0C10] ${a.color}`,children:(0,t.jsx)(n,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("div",{className:"mb-1 flex items-center gap-2",children:[(0,t.jsx)("h3",{className:"font-['Rajdhani'] text-base font-semibold text-[#C5C6C7]",children:e.title}),(0,t.jsx)(i.Badge,{variant:a.variant,className:"uppercase",children:e.severity}),e.acknowledged&&(0,t.jsx)(i.Badge,{variant:"default",className:"uppercase",children:"acknowledged"})]}),(0,t.jsx)("p",{className:"mb-2 text-sm text-[#C5C6C7] opacity-70",children:e.message}),(0,t.jsx)("span",{className:"font-mono text-xs text-[#C5C6C7] opacity-50",children:(0,y.formatTimestamp)(new Date(e.timestamp))})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[!e.acknowledged&&(0,t.jsxs)(r.Button,{variant:"outline",size:"sm",className:"gap-2",children:[(0,t.jsx)(m.CheckCircle,{className:"h-3.5 w-3.5"}),"Acknowledge"]}),(0,t.jsx)(r.Button,{variant:"ghost",size:"sm",children:(0,t.jsx)(p.Eye,{className:"h-3.5 w-3.5"})})]})]})})},e.id)})}),(0,t.jsxs)(s.Card,{className:"mt-6",children:[(0,t.jsx)(s.CardHeader,{title:"About Alerts",description:"Real-time governance event notifications"}),(0,t.jsx)(s.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-3 text-sm text-[#C5C6C7] opacity-80",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{className:"text-[#66FCF1]",children:"Alerts"})," notify you of important governance events such as policy violations, budget thresholds, and system anomalies."]}),(0,t.jsx)("p",{children:"Critical alerts may require immediate action and are linked to specific Receipts for full audit trail visibility."})]})})]})]})}e.s(["default",()=>E],5028)}]);