module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},46453,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d={active:!1,incidentId:null,severity:null,startedAt:null,trustScore:100,trustScoreThreshold:70,rootSubsystem:null,impactedComponents:[],activePolicies:[],quorumState:"met",events:[],lastIrreversibleAction:null,humanInLoop:{acknowledged:[],missing:["operator-1","operator-2"],slaDeadline:new Date(Date.now()+9e5).toISOString()},exitConditionsMet:!1},e=c.createContext(null);function f({children:a}){let[f,g]=c.useState(d),h=c.useCallback(a=>{g(b=>({...b,active:!0,incidentId:a.incidentId,severity:a.severity,startedAt:new Date().toISOString(),rootSubsystem:a.rootSubsystem,impactedComponents:a.impactedComponents??[],exitConditionsMet:!1}))},[]),i=c.useCallback(()=>{g(a=>a.exitConditionsMet?{...d}:a)},[]),j=c.useCallback(a=>{let b={...a,id:`evt_${Date.now()}_${Math.random().toString(36).slice(2,8)}`,timestamp:new Date().toISOString(),schemaVersion:"v1"};g(a=>({...a,events:[...a.events,b]}))},[]),k=c.useCallback(a=>{g(b=>({...b,trustScore:a}))},[]),l=c.useCallback(a=>{g(b=>({...b,humanInLoop:{...b.humanInLoop,acknowledged:b.humanInLoop.acknowledged.includes(a)?b.humanInLoop.acknowledged:[...b.humanInLoop.acknowledged,a],missing:b.humanInLoop.missing.filter(b=>b!==a)}})),j({subsystem:"human-operator",action:"operator.acknowledged.incident",severity:"info",actor:a})},[j]),m=c.useCallback(()=>{let a=!f.events.some(a=>"critical"===a.severity),b=f.trustScore>=f.trustScoreThreshold,c=a&&b;return c!==f.exitConditionsMet&&g(a=>({...a,exitConditionsMet:c})),c},[f.events,f.trustScore,f.trustScoreThreshold,f.exitConditionsMet]);return(0,b.jsx)(e.Provider,{value:{state:f,activateIncident:h,deactivateIncident:i,addEvent:j,updateTrustScore:k,acknowledgeHuman:l,checkExitConditions:m},children:a})}function g(){let a=c.useContext(e);if(!a)throw Error("useIncidentMode must be used within IncidentModeProvider");return a}a.s(["IncidentModeProvider",()=>f,"useIncidentMode",()=>g])},18175,a=>{"use strict";var b=a.i(87924),c=a.i(46453),d=a.i(72131);let e=d.createContext(null),f={tenantId:null,systemMetrics:null,liveMode:!1,isLoading:!1,error:null};function g({children:a,initialState:c}){let[g,h]=d.useState({...f,...c}),i=d.useMemo(()=>({setTenantId:a=>h(b=>({...b,tenantId:a})),setSystemMetrics:a=>h(b=>({...b,systemMetrics:a})),setLiveMode:a=>h(b=>({...b,liveMode:a})),setLoading:a=>h(b=>({...b,isLoading:a})),setError:a=>h(b=>({...b,error:a})),clearError:()=>h(a=>({...a,error:null}))}),[]),j=d.useMemo(()=>({...g,...i}),[g,i]);return(0,b.jsx)(e.Provider,{value:j,children:a})}function h(){let a=process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:5000",b=parseInt(process.env.NEXT_PUBLIC_API_TIMEOUT||"10000",10);return{baseUrl:a,timeout:b,useMockFallback:"false"!==process.env.NEXT_PUBLIC_API_USE_MOCK_FALLBACK,liveMode:"true"===process.env.NEXT_PUBLIC_API_LIVE_MODE}}let i=h();class j extends Error{statusCode;code;details;constructor(a,b,c,d){super(a),this.statusCode=b,this.code=c,this.details=d,this.name="ApiError"}}class k extends j{constructor(a,b){super(a,void 0,"NETWORK_ERROR",b),this.name="NetworkError"}}class l extends j{constructor(a){super(a,void 0,"TIMEOUT_ERROR"),this.name="TimeoutError"}}class m extends j{constructor(a,b){super(a,400,"VALIDATION_ERROR",b),this.name="ValidationError"}}class n extends j{constructor(a){super(a,404,"NOT_FOUND"),this.name="NotFoundError"}}class o extends j{constructor(a){super(a,401,"UNAUTHORIZED"),this.name="UnauthorizedError"}}class p extends j{constructor(a,b,c){super(a,b,"SERVER_ERROR",c),this.name="ServerError"}}async function q(a){let b=a.headers.get("content-type");return b?.includes("application/json")?a.json():b?.includes("text/")?a.text():a.blob()}async function r(a){let b,c=`Request failed with status ${a.status}`;try{let d=a.headers.get("content-type");if(d?.includes("application/json")){let d=await a.json();c=d.error||d.message||c,b=d}else c=await a.text()||c}catch{}switch(a.status){case 400:throw new m(c,b);case 401:throw new o(c);case 404:throw new n(c);case 500:case 502:case 503:case 504:throw new p(c,a.status,b);default:throw new j(c,a.status,void 0,b)}}function s({children:a}){let d=h();return(0,b.jsx)(g,{initialState:{liveMode:d.liveMode},children:(0,b.jsx)(c.IncidentModeProvider,{children:a})})}new class{config;constructor(a=i){this.config=a}async request(a,b={}){var c;let d,{method:e="GET",body:f,headers:g={},params:h,timeout:i=this.config.timeout,correlationId:m=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,tenantId:n}=b,o=(c=this.config.baseUrl,d=new URL(a,c),h&&Object.entries(h).forEach(([a,b])=>{null!=b&&d.searchParams.append(a,String(b))}),d.toString()),p={"Content-Type":"application/json","X-Correlation-Id":m,...g};n&&(p["X-Tenant-Id"]=n);let s={method:e,headers:p,body:f?JSON.stringify(f):void 0};try{let a=await new Promise((a,b)=>{let c=setTimeout(()=>{b(new l(`Request timeout after ${i}ms`))},i);fetch(o,s).then(b=>{clearTimeout(c),a(b)}).catch(a=>{clearTimeout(c),b(a)})});return a.ok||await r(a),{data:await q(a),statusCode:a.status,headers:a.headers}}catch(a){throw a instanceof j?a:a instanceof TypeError&&a.message.includes("fetch")?new k("Network request failed. Check your connection and ensure the API is running."):new j(a instanceof Error?a.message:"An unknown error occurred")}}async get(a,b={}){return(await this.request(a,{...b,method:"GET"})).data}async post(a,b,c={}){return(await this.request(a,{...c,method:"POST",body:b})).data}async put(a,b,c={}){return(await this.request(a,{...c,method:"PUT",body:b})).data}async delete(a,b={}){return(await this.request(a,{...b,method:"DELETE"})).data}async patch(a,b,c={}){return(await this.request(a,{...c,method:"PATCH",body:b})).data}},a.s(["Providers",()=>s],18175)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__14363aa1._.js.map